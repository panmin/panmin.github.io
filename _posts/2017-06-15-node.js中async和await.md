---
layout:     post                            # 使用的布局（不需要改）
title:      node.js中async和await                   # 标题
subtitle:            #副标题
date:       2017-06-15                      # 时间
author:     PanMin                              # 作者
header-img: img/post-bg-2015.jpg            #这篇文章标题背景图片
catalog: true                               # 是否归档
tags:                                       #标签
    - node.js
---

# node.js中async和await
> node.js8 已经完全支持async和await了

## 使用规则
* async写在function前，表示这是一个async函数，await只能放在这个函数里面
* await表示是在等待promise返回的果，然后在执行
* await后面跟着的应该是一个promise对象

```
var start = async function () {
    // 在这里使用起来就像同步代码那样直观
    console.log('start');
    await sleep(3000);
    console.log('end');
};

start();
```

函数返回的对象只会是promise对象，任何具体的值都没法返回